import MainPostItem from "../MainPostItem/MainPostItem";
import React, { useState, useEffect } from "react";
import axios from "axios";

const MainPostList = () => {
  const [posts, setPosts] = useState([
    {
      User: {
        username: "",
        avatar:
          "data:image/jpeg;base64,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",
      },
      title: "Heya",
      content:
        "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Neque gravida in fermentum et sollicitudin ac orci. At erat pellentesque adipiscing commodo elit at imperdiet. Dui nunc mattis enim ut tellus elementum sagittis vitae et. In ante metus dictum at tempor commodo ullamcorper a lacus. Neque sodales ut etiam sit amet. Praesent semper feugiat nibh sed pulvinar proin. Eget felis eget nunc lobortis mattis aliquam. Nec nam aliquam sem et tortor consequat id porta. Sed enim ut sem viverra aliquet eget. Tempor orci eu lobortis elementum nibh tellus. Id diam maecenas ultricies mi eget. Vulputate eu scelerisque felis imperdiet proin fermentum leo vel. Proin nibh nisl condimentum id venenatis a condimentum vitae sapien. Amet cursus sit amet dictum sit amet justo donec enim. Fermentum iaculis eu non diam.",
      upvotesCount: 1,
      id: 0,
    },
  ]);

  const fetchPosts = async () => {
    await axios
      .get("/api/posts")
      .then((serverRes) => {
        console.log(serverRes.data);
        setPosts(serverRes.data);
      })
      .catch((err) => console.log(err));
    // send error feedback
  };

  useEffect(() => {
    fetchPosts();
  }, []);

  return (
    <main className="flex flex-col space-y-4 mx-auto px-2 max-w-screen-lg">
      {posts.map((obj, index) => {
        return (
          <MainPostItem
            obj={obj}
            key={`POST_${index}`}
            setDummyData={setPosts}
            dummyData={posts}
          />
        );
      })}
    </main>
  );
};
export default MainPostList;
